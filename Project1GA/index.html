<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
  <title>StarMaster Clone</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css?family=Orbitron" rel="stylesheet">
</head>
<body>
  <div class="container">
    <canvas id="myCanvas" width="1024" height="576"></canvas>
    <div id='game'>
          <div class='target' id='target1'></div>
    </div>
    <div class='overlay'>
      <img src="http://img08.deviantart.net/1cd3/i/2014/092/f/0/preybird_fighter_cockpit_by_iteachvader-d6mxx0l.png"
      >
      <div id='status'>
      <div id='message'></div>
      </div>
          </div>
        <div class='crosshairs' id='xhairs'>
          <div id="main">
            <div id="center1" class="center"></div>
            <div id="blue1" class="blue"></div>
            <div id="yellow1" class="yellow"></div>
            <div id="red1" class="red"></div>
          </div>
        </div>
  </div>
</body>

<script src="main.js" type="text/javascript" charset="utf-8"></script>

<script>
let statusMessage = `ROUND : ${round} \n ENEMIES REMAINING : ${enemies}
\n SCORE : ${score} \n FUEL : ${fuel}`;
</script>

<script>
document.body.addEventListener("keydown", function(event) {
  if (event.keyCode == 32) {
    shootIt();
  }
});
</script>

<script>
document.body.addEventListener("keydown", function(event) {
  if (event.keyCode == 39) {
    loopRight();
  }
});
</script>

<script>
document.body.addEventListener("keydown", function(event) {
  if (event.keyCode == 37) {
    loopLeft();
  }
});
</script>

<script>
let shootIt = function() {
  const leftBeam = document.createElement('div');
  const rightBeam = document.createElement('div');
  leftBeam.setAttribute('id', 'leftbeam');
  rightBeam.setAttribute('id', 'rightbeam');
  const gameBoard = document.querySelector('#game');
  gameBoard.appendChild(leftBeam);
  gameBoard.appendChild(rightBeam);
  removeIt();
  checkIt();
}
</script>

<script>
let checkIt = function() {
  const gameBoard = document.getElementById("game");
  let target = document.getElementById('target1');
  /*let targets = document.querySelectorAll('target');
  for (target of targets) {*/
    el = target.getBoundingClientRect();
    let left = el.left + window.scrollX;
    let top = el.top + window.scrollY;
    console.log(`left is ${left} and top is ${top}`);
  //}
  if ((left > 582 && left < 622) && (top > 230 && top < 270)) {
    score++;   // additional functionality will trigger audio, make explosion visible,
    enemies--;
    outputMessage(`ROUND : ${round} \n ENEMIES REMAINING : ${enemies}
    \n SCORE : ${score} \n FUEL : ${fuel}`);
    gameBoard.removeChild(target);
    explodeIt();
   }
}
</script>

<script>
let removeIt = function() {
  setTimeout(function() {
    const leftBeam = document.getElementById('leftbeam');
    const rightBeam = document.getElementById('rightbeam');
    const gameBoard = document.getElementById("game");
    gameBoard.removeChild(leftBeam);
    gameBoard.removeChild(rightBeam);
  }, 498);
};
</script>

<script>
  var explodeIt = function() {
    const gameBoard = document.getElementById("game");
    const boom = document.createElement('div');
    boom.setAttribute('class', 'explosion');
    gameBoard.appendChild(boom);
    setTimeout(function() {
      gameBoard.removeChild(boom);
    }, 100);
  }
</script>

<script>
let startIt = function() {
    // initialize new player
    outputMessage(`ROUND : ${round} \n ENEMIES REMAINING : ${enemies}
\n SCORE : ${score} \n FUEL : ${fuel}`);
  }
</script>


<script>
  let crosshairCheck = function() {
  setInterval(function() {
  let crossHairs = document.getElementById("xhairs");
  const gameBoard = document.getElementById("game");
  let target = document.getElementById('target1');
    el = target.getBoundingClientRect();
    let left = el.left + window.scrollX;
    let top = el.top + window.scrollY;
      if ((left > 540 && left < 739) && (top > 201 && top < 320)) {

/*        blue.classList.toggle('crosshairsRed');
        yellow.classList.toggle('crosshairsRed');
        red.classList.toggle('crosshairsRed');
        center.classList.toggle('crosshairsRed');*/
      } else {
        blue.classList.toggle('blue');
        yellow.classList.toggle('yellow');
        red.classList.toggle('red');
        center.classList.toggle('center');
      }
  }, 100);



  let crossHairs = document.getElementById("xhairs");
  const gameBoard = document.getElementById("game");
  let target = document.getElementById('target1');
    el = target.getBoundingClientRect();
    let left = el.left + window.scrollX;
    let top = el.top + window.scrollY;
      if ((left > 540 && left < 739) && (top > 201 && top < 320)) {
        blue.classList.toggle('crosshairsRed');
        yellow.classList.toggle('crosshairsRed');
        red.classList.toggle('crosshairsRed');
        center.classList.toggle('crosshairsRed');
      } else {
        blue.classList.toggle('blue');
        yellow.classList.toggle('yellow');
        red.classList.toggle('red');
        center.classList.toggle('center');
      }
  };
</script>
<!--

<script>
document.body.addEventListener("keydown", function(event) {
  if (event.keyCode == 37) {
    loopLeft();
  }
});
</script>

<script>
  let awaitIt() = function() {
    // splash screen
    // press any key to begin
  }
</script>

<script>
  let aboutIt() = function() {
    // esc key toggles how to instructions
  }
</script>
TO DO:
-animate explosion
-add sounds
-build class objects
-add satellite obstacles
-add splash screen
-add more levels/enemies via class constructor
-add info screen
-add crosshairs toggle

 AUDIO FEATURES
      <audio autoplay="autoplay">
        <source src="me.mp3" />
      </audio>


    window.onload = function () {
    document.getElementById('button').onclick = function () {
        document.getElementById('modal').style.display = "none"
    };
};

    <div id="modal">
        <div class="modalcontent">
            <h1>Welcome to my Demo Homepage!</h1><br>
            <p data-balloon-length="medium" data-balloon="Modal popup via JavaScript" data-balloon-pos="down">This is not a live page, but is submitted to General Assembly for consideration of admission to the<br>Web Development Immersive program.<br><br>Thank you for checking it out!  <br><br>Don't forget to leave your feedback after your visit!</p><br>
            <button id="button">GOT IT!</button>
        </div>
    </div>



-->

<script>
startIt();
crosshairCheck();
</script>
</html>


