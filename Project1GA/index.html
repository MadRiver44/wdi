<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>StarMaster Clone</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css?family=Orbitron" rel="stylesheet">
</head>
<body>
<div class="container">


<canvas id="myCanvas" width="1024" height="576" style="border:1px solid #000000;">
</canvas>

<div class='overlay'>
<img src="http://img08.deviantart.net/1cd3/i/2014/092/f/0/preybird_fighter_cockpit_by_iteachvader-d6mxx0l.png"
>
<div class='status'>
<p>
Test TEST 012 #*?
</p>
</div>
</div>


</div>
</body>

<script src="main.js" type="text/javascript" charset="utf-8"></script>


<script type='text/javascript'>
    var MAX_DEPTH = 64;  // depth of field via brightness
    var canvas, ctx;
    var stars = new Array(64);  // This sets # of stars

    window.onload = function() {
      canvas = document.getElementById("myCanvas");
      if( canvas && canvas.getContext ) {
        ctx = canvas.getContext("2d");
        initStars();
        setInterval(loop,64); // this sets speed
       }
    }

    function randomRange(minVal,maxVal) {
      return Math.floor(Math.random() * (maxVal - minVal - 1)) + minVal;
    }

    function initStars() {
      for( var i = 0; i < stars.length; i++ ) {
        stars[i] = {
          x: randomRange(-25,25),
          y: randomRange(-25,25),
          z: randomRange(1,MAX_DEPTH)
         }
      }
    }

    function loop() {
      var width = canvas.width;
      var height = canvas.height;
      var halfWidth  = canvas.width / 2;
      var halfHeight = canvas.height / 2;

      ctx.fillStyle = "rgb(0,0,0)";
      ctx.fillRect(0,0,canvas.width,canvas.height);

      for( var i = 0; i < stars.length; i++ ) {
        stars[i].z -= 0.2;  // increment of position

        if( stars[i].z <= 0 ) {
          stars[i].x = randomRange(-25,25);
          stars[i].y = randomRange(-25,25);
          stars[i].z = MAX_DEPTH;
        }

        var k  = 128.0 / stars[i].z;
        var px = stars[i].x * k + halfWidth; // add conditions: keypress = turn (width/height)
        var py = stars[i].y * k + halfHeight;

        if( px >= 0 && px <= 1024 && py >= 0 && py <= 576 ) {
          var size = (1 - stars[i].z / 32.0) * 5;
          var shade = parseInt((1 - stars[i].z / 32.0) * 255);
          ctx.fillStyle = "rgb(" + shade + "," + shade + "," + shade + ")";
          ctx.fillRect(px,py,size,size);
        }
      }
    }
  </script>


</html>


